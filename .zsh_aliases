# CD Aliases
for i in {1..5}; do
  al="."
  cmd=""
  for ((j=0; j<$i; j++)); do
    al="${al}."
    cmd="${cmd}../"
  done
  alias $al="cd $cmd"
done

alias ~="cd ~"

# LS Aliases
alias ls='ls --color=auto'
alias ll='ls -l --color=always'
alias la='ls -l -A --color=always'

# Git aliases
zinit snippet OMZP::git  # A collection from Oh-My_Zsh

alias gbc="git branch -d \$(git branch --merged main | grep -v main)"
alias gsm="git submodule update --init --recursive"
alias glr="git pull --recurse; git submodule update --init --recursive"

alias gwti="git_worktree_init"
git_worktree_init() {
    if [[ $# -ne 1 ]]; then
        echo "Usage: git_worktree_init <repo_url>"
        return 1
    fi
    repo=$1
    repo_name_unclean=$(echo $repo | awk -F'[/"]' '{ print $(NF); }')
    repo_name=$(echo $repo_name_unclean | awk -F'.git' '{ print $1 }')
    git clone $repo $repo_name.git
    cd $repo_name.git
    git checkout $(git commit-tree $(git hash-object -t tree /dev/null) < /dev/null)
    cd ..
}

alias gwta="git_worktree_add"
git_worktree_add() {
    if [[ $# -ne 1 ]]; then
        echo "Usage: git_worktree_add <branch>"
        return 1
    fi
    git worktree add $1 $1
}

# VPN Helpers
if command -v nordvpn 2>&1 > /dev/null; then
    alias start_vpn='nordvpn connect'
    alias stop_vpn='nordvpn disconnect'
    alias start_vpn_phx='nordvpn connect United_States Phoenix'
fi

# ZSH Helpers
alias reload="source ~/.zshrc"
